# 面向领域的微服务体系架构(Domain-Oriented Microservice Architecture)
uber在长期的微服务实践中，提出了面向领域的微服务体系架构（DOMA）。本开源项目就是uber的DOMA的一个实践。关于uber的DOMA可参看文章：https://eng.uber.com/microservice-architecture/ 。以下是DOMA的一些关键概念与实践
## 以域为维度：
不是以业务微服务为导向，而是构建一个领域服务集合，由这些领域服务为业务提供支撑。以前贷前业务是以业务线为维度建立多个服务，各个业务服务之间独立。现在以域为维度构建贷前服务。 -> 好处：相似的业务流程放在一起，形成内聚的单元，提升稳定性，维护性，重用性。同时形成结构化需求，可以更快速的响应和交付。
## 分层：
 - 在域服务内，领域层和应用层隔离，领域层重点关注领域模型的表达，是业务的核心。应用层关注任务的完成。通过分层，获得含义丰富，结构清晰的软件。
 - 域服务重点表达领域概念，对外展示各类领域服务。跨域业务流程可以编排域服务提供的各种服务来实现，实现需求的快速响应和高质量交付
## 扩展：
扩展表示一种扩展域的机制。扩展的基本定义是，它提供了一种机制来扩展底层服务的功能，而不会更改该服务的实际实现，也不会影响其整体可靠性。我们提供两种不同的扩展模型：逻辑扩展和数据扩展。
### 逻辑扩展：
逻辑扩展提供了一种扩展服务底层逻辑的机制。对于逻辑扩展，我们使用提供程序或插件模式的变体，接口是按服务定义的。这使得扩展团队能够以接口驱动的方式实现扩展逻辑，而无需修改底层平台的核心代码。
### 数据扩展：
数据扩展提供了一种将任意数据附加到接口的机制，以避免核心平台数据模型膨胀。对于数据扩展，我们利用hashmap的任何功能，以便团队可以向请求添加任意数据。服务通常会存储这些数据或将其传递给逻辑扩展。为了更简单的实现，可以很容易地使用JSON字符串来表示任意数据。
## 域隔离：
每个域对其他域应该是不可知的，也就是说，一个域不应该在其代码库或数据模型中有与另一个域硬编码相关的逻辑。
如果需要接入其它域，但是接口存在硬编码，那么我们需要构建一个防腐层。防腐层用到的一个主要技术是远端领域对象本地化。
